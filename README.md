# Git туторіал: Знайомство з GitHub. Фіксимо конфлікти Git. Squash комітів. Git Rebase і Merge різниця

**АВТОР:** [Ukraine Code](https://www.youtube.com/@ukrainecode) **ВІДЕО:** [Git туторіал](https://www.youtube.com/watch?v=Qm1ua1K6Lgg&t=831s)

## ЗМІСТ
- [1. Налаштування GIT для проекту](#1-налаштування-git-для-проекту)
- [2. Початок роботи в git. Ініціалізація проекту](#2-початок-роботи-в-git-ініціалізація-проекту)
- [3. Варіанти додавання змін. Git add](#3-варіанти-додавання-змін-git-add)
- [4. Як зробити коміт? Git commit](#4-як-зробити-коміт-git-commit)
- [5. Додавання до індексу git. Як додати зміни і закомітити їх однією командою? git commit -am](#5-додавання-до-індексу-git-як-додати-зміни-і-закомітити-їх-однією-командою-git-commit--am)
- [6. Видалення об'єктів у git.](#6-видалення-обєктів-у-git)
- [7. Перейменування об'єкту](#7-перейменування-обєкту)
- [8. Синтаксис файлу `.gitignore` та його налаштування](#8-синтаксис-файлу-gitignore-та-його-налаштування)
- [9. Як додати пошту або ім'я до локального репозиторію git](#9-як-додати-пошту-або-імя-до-локального-репозиторію-git)
- [10. Клонування github репозиторію через SSH. Як сгенерити ssh ключ? Налаштування ssh підключення з github](#10-клонування-github-репозиторію-через-ssh-як-сгенерити-ssh-ключ-налаштування-ssh-підключення-з-github)
- [11. Як видалити github репозиторій на віддаленому сервері?](#11-як-видалити-github-репозиторій-на-віддаленому-сервері)
- [12. Клонування за допомого github CLI](#12-клонування-за-допомого-github-cli)
- [13. Перевірка віддаленого підключення до github](#13-перевірка-віддаленого-підключення-до-github)
- [14. Залити зміни на віддалений репозиторій](#14-залити-зміни-на-віддалений-репозиторій)
- [15. Стягнути собі зміни з віддаленого репозиторію](#15-стягнути-собі-зміни-з-віддаленого-репозиторію)
- [16. Залити вже існуючий проект на віддалений репозиторій](#16-залити-вже-існуючий-проект-на-віддалений-репозиторій)
- [17. Стоврення нової гілки та перемикання на неї - git branch name та git checkout name](#17-стоврення-нової-гілки-та-перемикання-на-неї---git-branch-name-та-git-checkout-name)
- [18. Створення нової гілки та перемикання на неї однією командою `git branch -b`](#18-створення-нової-гілки-та-перемикання-на-неї-однією-командою-git-branch--b)
- [19. Дивимось гілки що змержені в головну гілку main `git branch --merged`. Незмержений перелік гілок `git branch --no-merged`](#19-дивимось-гілки-що-змержені-в-головну-гілку-main-git-branch---merged-незмержений-перелік-гілок-git-branch---no-merged)
- [20. Merge гілок](#20-merge-гілок)
- [21. `git log` Дивимось логи різними способами](#21-git-log-дивимось-логи-різними-способами)
- [22. `git diff` Дивимось різницю в змінах у гілках, комітах](#22-git-diff-дивимось-різницю-в-змінах-у-гілках-комітах)
- [23. `git diff` для робочої директорії. `git diff --staged` для змін на stage. Різниця між `git diff` на стейджі та у робочій директорії](#23-git-diff-для-робочої-директорії-git-diff---staged-для-змін-на-stage-різниця-між-git-diff-на-стейджі-та-у-робочій-директорії)
- [24. `fix git conflicts` Фіксимо конфлікт](#24-fix-git-conflicts-фіксимо-конфлікт)
- [25. `git reflog`](#25-git-reflog)
- [26. `git reset --hard` Відміняєио зміни, які з'явились після злиття гілок, без слідів в історії log](#26-git-reset---hard-відміняєио-зміни-які-зявились-після-злиття-гілок-без-слідів-в-історії-log)
- [27. `git reset --soft` Безпечна команда для відміни змін у комітах](#27-git-reset---soft-безпечна-команда-для-відміни-змін-у-комітах)
- [28. `git amend` Змінити та перезаписати останній коміт](#28-git-amend-змінити-та-перезаписати-останній-коміт)
- [29. `git branch -d` Видалити локальну гілку](#29-git-branch--d-видалити-локальну-гілку)
- [30. `git merge --squash` Злити всі зміни одним комітом](#30-git-merge---squash-злити-всі-зміни-одним-комітом)
- [31. `git branch -D` Видалити локально гілку з незлитими змінами](#31-git-branch--d-видалити-локально-гілку-з-незлитими-змінами)
- [32. `git log -2` дивимось останні 2 коміти. `git log --stat -2` дивимось останні 2 логи з подробицями. `git log --pretty` логи в одну строку](#32-git-log--2-дивимось-останні-2-коміти-git-log---stat--2-дивимось-останні-2-логи-з-подробицями-git-log---pretty-логи-в-одну-строку)
- [33. Форматування логів. Логи у вигляді графа](#33-форматування-логів-логи-у-вигляді-графа)
- [34. Логи за певний період](#34-логи-за-певний-період)
- [35. Alias для комад git. Назначаємо та видаляємо у git config --global](#35-alias-для-комад-git-назначаємо-та-видаляємо-у-git-config---global)

# 1. Налаштування GIT для проекту

## Глобальний GIT config файл

- #### Назначити ім'я користувача та пошту:

```bash 
git config --global user.name 'John'
```

```bash 
git config --global user.email john@test.com
```
- #### Назначити редактор за замовчуванням:

```bash
git config --global core.editor "nano"
```
VSCode
```bash
git config --global core.editor "code --wait"
```

- #### Переглянути глобалні налаштування

```bash 
git config --list --show-origin --global
```

Якщо потрібно налаштувати дані окремо для кожного проекту, то у цьому випадку опцію `--global` НЕ використовувати:

```bash 
git config user.name 'John'
```

```bash 
git config user.email john@test.com
```

- #### Переглянути загальні налаштування
```bash
git config -l
```

- #### Переглянути config окремо для локального репозиторію

```bash
git config --list --show-origin --local
```

- #### Видалити або замінити ім'я та пошту

```bash
git config --global --unset user.name
```
```bash
git config --global --unset user.email
```
Для локального config використовувати без флагу `--global`

## Автоматично конвертувати кінці рядків у git. core.autocrlf, щоб запобігти конфліктам в різних операційних системах

- #### Для Windows

```bash
git config --global core.autocrlf true
```

- #### Для Linux and Mac

```bash
git config --global core.autocrlf input
```
---
# 2. Початок роботи в git. Ініціалізація проекту

Переходимо в папку з проектом `cd your_project` та виконуємо команду ініціалізації git:

```bash
git init
```
Після виконання цієї команди створиться прихована папка `.git`, яка зберігає всю інформацію про історію змін проекту.

- #### Показати статус змін

```bash
git status
```

- #### Щоб налаштувати глобальний .gitignore для вашого середовища розробки, виконайте наступні кроки:

    - Створіть глобальний файл .gitignore:
    Виберіть або створіть файл, який буде використовуватись як глобальний .gitignore. Наприклад, ви можете створити файл .gitignore_global у вашій домашній директорії.
    

        ```bash 
        touch ~/.gitignore_global
        ```

    - Відредагуйте файл `.gitignore_global`:
Відкрийте файл .gitignore_global у вашому улюбленому текстовому редакторі та додайте шаблони файлів, які ви хочете ігнорувати глобально. Наприклад:

        ```plaintext

        # Ігнорування файлів налаштувань редакторів
        .vscode/
        .idea/

        # Ігнорування системних файлів
        *.DS_Store
        *.log

        # Ігнорування скомпільованих файлів
        *.class
        *.o
        *.pyc
        ```

    - Налаштуйте Git для використання глобального .gitignore:
Вкажіть Git, щоб він використовував цей глобальний файл .gitignore за допомогою наступної команди:

        ```bash
        git config --global core.excludesfile ~/.gitignore_global
        ```

    - Перевірте налаштування:
Щоб переконатися, що Git використовує ваш глобальний .gitignore, виконайте команду:

        ```bash
        git config --get core.excludesfile
        ```

        Це повинно повернути шлях до вашого глобального .gitignore файлу.

    Тепер ваш глобальний .gitignore файл буде застосовуватися до всіх ваших Git репозиторіїв на даній машині.


# 3. Варіанти додавання змін. Git add

- Точно вказати файли, які додаємо:
```bash
git add filename1.txt filename2.txt
```

- Скористатись шаблоном:
```bash
git add *.txt
```

- Додати всі файли:
```bash
git add .
```

# 4. Як зробити коміт? Git commit

```bash
git commit -m "create project"
```

# 5. Додавання до індексу git. Як додати зміни і закомітити їх однією командою? `git commit -am` 

```bash
git commit -am "resolved errors"
```

# 6. Видалення об'єктів у git.

```bash
git rm filename.txt
```
Ця команда видалить файл та запише зміни у репозиторій

# 7. Перейменування об'єкту

```bash
git mv OldName.php NewName.php
```
Ця команда перейменує файл та запише зміни у репозиторій

# 8. Синтаксис файлу `.gitignore` та його налаштування

Файл `.gitignore` використовується для вказівки файлів і каталогів, які не повинні відстежуватися Git. Цей файл забезпечує зручний спосіб ігнорування тимчасових, локальних або згенерованих файлів, запобігаючи їх випадковому додаванню до репозиторій.

Створити .gitignore:
```bash
touch .gitignore
```

Приклад 1:
```bash
# Ігнорувати тимчасові файли
*.log
*.tmp

# Ігнорувати конфігураційні файли
.config

# Ігнорувати директорію із залежностями
/node_modules/

# Ігнорувати всі файли всередині директорії
/assets/*

# Ігнорувати всі файли всередині БУДЬ-ЯКОЇ директорії з ім'ям temp
temp/ 

# НЕ ігнорувати файл
!debug.log
```

Приклад 2 (проект на Laravel [php framework]):
```bash
/.phpunit.cache
/node_modules
/public/attachments
/public/build
/public/hot
/public/storage
/storage/*.key
/vendor
.env
.env.backup
.env.production
.phpunit.result.cache
Homestead.json
Homestead.yaml
auth.json
npm-debug.log
yarn-error.log
/.fleet
/.idea
/.vscode
.devdbrc
```

# 9. Як додати пошту або ім'я до локального репозиторію git

```bash 
git config user.name "John"
```

```bash 
git config user.email john@test.com
```

# 10. Клонування github репозиторію через SSH. Як сгенерити ssh ключ? Налаштування ssh підключення з github 

**SSH**

    Згенерувати SSH ключ на локальному комп'ютеріЖ
    ```bash
    ssh-keygen -t rsa
    ```
    Копіюємо ssh ключ:
    ```bash
    cat ~/.ssh/id_rsa.pub
    ```
    > На сайті github в налаштуваннях знаходимо `SSH and GPG keys`, 
    натискаємо кнопку `New SSH key`, вказуємо назву та вставляємо ключ, який скопіювали до цього. Натискаємо `Add SSH key`

    Після цього можемо копіювати SSH лінк для клонування репозиторію. Переходимо в директорію, куди хочемо клонувати репозиторій та виконуємо команду:

    ```bash
    git clone git@github.com:GitHubUserName/repo-name.git
    ```

# 11. Як видалити github репозиторій на віддаленому сервері?

1. На GitHub.com перейдіть на головну сторінку репозиторію.
2. Під назвою свого репозиторію клацніть Налаштування. Якщо ви не бачите вкладку «Налаштування», виберіть спадне меню та натисніть «Налаштування».
3. На сторінці налаштувань «Загальні» (яка вибрана за замовчуванням) прокрутіть униз до розділу «Danger Zone» та натисніть «Delete this repository».
4. Підтвердіть свою дію, вказавши назву репозиторію у формі, та натисніть «Delete this repository» зноуву.

# 12. Клонування за допомого github CLI

### [Installing gh on Linux and BSD (Docs)](https://github.com/cli/cli/blob/trunk/docs/install_linux.md)

Використання:
```bash
gh repo clone GitHubUserName/repo-name
```

# 13. Перевірка віддаленого підключення до github 

```bash
git remote -v
```

# 14. Залити зміни на віддалений репозиторій

Тільки перший раз
```bash
git push -u origin main
```
Далі просто 
```bash
git push
```

# 15. Стягнути собі зміни з віддаленого репозиторію

```bash
git pull origin main
```

# 16. Залити вже існуючий проект на віддалений репозиторій

1. Створюємо новий репозиторій на GitHub

    Далі виконуємо наступні команди:
```bash
git remote add origin https://github.com/GitHubUserName/repo-name.git
```
```bash
git branch -M main
```
```bash
git push -u origin main
```

# 17. Стоврення нової гілки та перемикання на неї - `git branch name` та `git checkout name`

1. Створити нову гілку
```bash
git branch feature_1
```
2. Перемкнути на гілку `feature_1`
```bash
git checkout feature_1
```

# 18. Створення нової гілки та перемикання на неї однією командою `git branch -b`

```bash
git checkout -b feature_2
```

# 19. Дивимось гілки що змержені в головну гілку main `git branch --merged`. Незмержений перелік гілок `git branch --no-merged`

```bash
git branch --merged
```
```bash
git branch --no-merged
```

# 20. Merge гілок

Знаходячись у гілці, в яку ми плануємо мерджити зміни, виконуємо комаду `git merge` та вказуємо ту гілку, з якої будемо зливати зміни:
```bash
git merge feture_1
```

# 21. `git log` Дивимось логи різними способами 

1. Показати всі коміти, які є на даний час
```bash
git log
```
2. Коміти з графом
```bash
git log --graph
```

# 22. `git diff` Дивимось різницю в змінах у гілках, комітах

```bash
git diff feature_2
```
*feature_2 - назва гілки, з якою хочемо побачити різницю*

# 23. `git diff` для робочої директорії. `git diff --staged` для змін на stage. Різниця між `git diff` на стейджі та у робочій директорії

1. Ця команда відображає зміни, які не були внесені комітом, у робочій директорії порівняно з останнім комітом в поточній гілці
```bash
git diff
```

2. Показати різницю між вже доданими до stage змінами та  комітом
```bash
git diff --staged
```

# 24. `fix git conflicts` Фіксимо конфлікт

Переходимо до файлів, в яких є конфлікти, знаходимо ці конфлікти та фіксимо - обираємо, що ми хочемо залишити 😎

# 25. `git reflog`

Кожен раз, коли виконуються операції з переміщення, створенн або видалення комітів, гілок - git зберігає ці дії в `reflog`. `reflog` дозволяє відновити стан репозиторію до попередніх станів або повернутись до комітв, які були видалені або переписані.
Ця команда виведе HEAD reflog.
```bash
git reflog
```

# 26. `git reset --hard` Відміняєио зміни, які з'явились після злиття гілок, без слідів в історії log

Ця команда виконується для відновлення стану робочого каталогу та історії комітів до певної точки. Коли виконуєте reset --hard, ви вказуєте git, що потрібно повністю змнити стан вашого робочого католога і відповідну історію комітів на вказану точку. Всі не збережені зміни будуть втрачені, а гілка буде перенесена на вказаний коміт
```bash
git reset --hard 44f80
```
*44f80* - це хеш коміту, на який треба відкотитись

# 27. `git reset --soft` Безпечна команда для відміни змін у комітах

Ця команда використовується для сасування останнього коміту, але залишає зміни в рабочому католозі та індексі
```bash
git reset --soft 44f80
```

# 28. `git amend` Змінити та перезаписати останній коміт

Ця команда дозволяє внести додаткові зміни до останнього коміту без створення нового коміту
```bash
git commit --amend
```

# 29. `git branch -d` Видалити локальну гілку

```bash
git branch -d name_of_branch
```

# 30. `git merge --squash` Злити всі зміни одним комітом

```bash
git merge --squash name_of_branch
```

# 31. `git branch -D` Видалити локально гілку з незлитими змінами

Після завершення роботи з гілкою та її об'єднання з основною гілкою можна гілку видалити (якщо не потрібна)

```bash
git branch -D name_of_branch
```

Флаг `-D` примушує git видалити гілку незалежно від статусу її злиття.

# 32. `git log -2` дивимось останні 2 коміти. `git log --stat -2` дивимось останні 2 логи з подробицями. `git log --pretty` логи в одну строку

```bash
git log -2
```

`-2` - кількість останніх комітів, яки хочемо побачити (може бути будь-яке число)

```bash
git log --stat -2
```
`git log --stat` використовується для перегляду детальної статистики змін для вказанної кількості останніх комітів (в цьому випадку вказано `2`)

```bash
git log --pretty=oneline
```
Використовується для виведення кожного коміту в історію репозиторію у компактному форматі, де кожен коміт відображається на окремому рядку:
```bash
551450ea83e094b8aa968964a233671b6a09d5be (HEAD -> main, origin/main) README
74dbe203d7a92544fe93b7298aca5dda5c0aa134 Confirm word and phrase deletion
feaf4430a90bb447dc6713e9974d9c553f6a56f9 Add style to word and phrase show detail links
324cc4ec85f1040bcbd26cb76a199b6d87441b87 Add back button to show pages
a4a4acedafe2518a35f5d413998932ffc69b5463 Add style for Edit and Delete buttons
37eefafe3faba61ba9b7c7912d85c960fb02fec2 Phrases crud, views
415c99bd0591f3abf340c9d9f53bc3fa2deff6db Add Languages menu item
d054f9b661303173537245d2699baa26ed3bbb8b Add Words menu item
```

# 33. Форматування логів. Логи у вигляді графа 

[Documentation](https://git-scm.com/docs/pretty-formats)

Приклад: показати ім'я автора
```bash
git log --pretty=format:"%an"
```

Показати граф:

```bash
git log --pretty=format:%h - %s --graph
```

# 34. Логи за певний період

[Documentation](https://git-scm.com/docs/git-log#_commit_limiting)

Приклади:
```bash
git log --since=3.days
```
```bash
git log --since=4.hours
```
```bash
git log --since=1.weeks
```
```bash
git log --since="1 day 3 hours"
```

Приклад, як побачити hash коміту, message коміту, з вказанням ім'я автора за певний період:
```bash
git log --pretty="%h - %s" --author=denis --since="2 days"
```

# 35. Alias для комад git. Назначаємо та видаляємо у git config --global

Перелік всіх налаштувань:
```bash
git config --global -l
```

Наприклад, створити alias для команди, яка виводить гілки `git branch`:

```bash
git config --global alias.br branch
```

Видалити alias:

```bash
git config --global --unset alias.br
```

# 36. Rebase

Перед тим, як робити rebase, потрібно зробити `pull`, щоб отримати останні зміни.

```bash
git pull origin main
```

Далі перемикаємо на гілку з комітами:

```bash
git checkout branch_name
```
Робимо rebase:
```bash
git rebase main
```

```bash
git checkout main
```
```bash
git rebase branch_name
```
Далі можна зробити `push`:
```bash
git push origin main
```
